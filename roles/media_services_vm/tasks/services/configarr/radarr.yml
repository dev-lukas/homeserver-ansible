# Radarr Configarr Configuration
# All German + English profiles with customizations
# NOTE: quality_profiles are defined in templates - we only add custom_formats

instance1:
  base_url: http://{{ media_services_ip }}:7878
  api_key: !secret RADARR_API_KEY
  
  # Delete profiles/formats not managed by Configarr
  delete_unmanaged_custom_formats:
    enabled: true
  delete_unmanaged_quality_profiles:
    enabled: true
  
  # Clone profiles for Special Edition movies
  cloneQualityProfiles:
    - from: Remux + WEB 2160p (GER)
      to: Special Edition 4K Remux (GER)
    - from: UHD Bluray + WEB (GER)
      to: Special Edition 4K (GER)
    - from: HD Bluray + WEB (GER)
      to: Special Edition 1080p (GER)
  
  # Include all required templates
  include:
    # Quality definitions
    - template: radarr-quality-definition-movie
    
    # German HD (1080p)
    - template: radarr-custom-formats-hd-bluray-web-german
    - template: radarr-quality-profile-hd-bluray-web-german
    
    # German UHD Bluray + WEB (4K encode)
    - template: radarr-custom-formats-uhd-bluray-web-german
    - template: radarr-quality-profile-uhd-bluray-web-german
    
    # German UHD Remux + WEB (4K remux)
    - template: radarr-custom-formats-uhd-remux-web-german
    - template: radarr-quality-profile-uhd-remux-web-german
    
    # German Anime (custom template - WEBDL-720p only)
    - template: template-radarr-anime-german
    
    # English Anime
    - template: radarr-custom-formats-anime
    - template: radarr-quality-profile-anime
  
  # Custom format assignments (templates handle quality_profiles)
  custom_formats:
    #==========================================================================
    # BAD RELEASE GROUPS - Block for ALL profiles
    #==========================================================================
    - trash_ids:
        - b6832f586342ef70d9c128d40c07b872 # Bad Dual Groups
        - ae9b7c9ebde1f3bd336a8cbd1ec4c5e5 # No-RlsGroup
        - 7357cf5161efbf8c4d5d0c30b4815ee2 # Obfuscated
        - 5c44f52a8714fdd79bb4d98e2673be1f # Retags
        - f537cf427b64c38c8e36298f657e4828 # Scene
      assign_scores_to:
        - name: HD Bluray + WEB (GER)
        - name: UHD Bluray + WEB (GER)
        - name: Remux + WEB 2160p (GER)
        - name: Anime HD (GER)
        - name: Remux-1080p - Anime
    
    #==========================================================================
    # HDR / DV - Block DV without HDR fallback (all UHD/Remux)
    #==========================================================================
    - trash_ids:
        - 923b6abef9b17f937fab56cfcf89e1f1 # DV (w/o HDR fallback)
      assign_scores_to:
        - name: UHD Bluray + WEB (GER)
        - name: Remux + WEB 2160p (GER)
    
    #==========================================================================
    # x265 - Allow for UHD and Remux profiles
    #==========================================================================
    - trash_ids:
        - 839bea857ed2c0a8e084f3cbdbd65ecb # x265 (HD) - allows HDR/DV x265
      assign_scores_to:
        - name: UHD Bluray + WEB (GER)
        - name: Remux + WEB 2160p (GER)
    
    #==========================================================================
    # 4K REMASTER - Prefer for UHD profiles
    #==========================================================================
    - trash_ids:
        - eca37840c13c6ef2dd0262b141a5482f # 4K Remaster
      assign_scores_to:
        - name: UHD Bluray + WEB (GER)
        - name: Remux + WEB 2160p (GER)
    
    #==========================================================================
    # IMAX ENHANCED - Prefer for HD/WEB-DL profiles
    #==========================================================================
    - trash_ids:
        - 9f6cbff8cfe4ebbc1bde14c7b7bec0de # IMAX Enhanced
        - eecf3a857724171f968a66cb5719e152 # IMAX
      assign_scores_to:
        - name: HD Bluray + WEB (GER)
        - name: UHD Bluray + WEB (GER)
        - name: Remux + WEB 2160p (GER)
    
    #==========================================================================
    # SPECIAL EDITION - Apply to all cloned Special Edition profiles
    #==========================================================================
    - trash_ids:
        - 957d0f44b592285f26449575e8b1167e # Special Edition
      assign_scores_to:
        - name: Special Edition 4K Remux (GER)
          score: 10000
        - name: Special Edition 4K (GER)
          score: 10000
        - name: Special Edition 1080p (GER)
          score: 10000
    
    #==========================================================================
    # x265 - Prefer for Anime (smaller files, good quality)
    #==========================================================================
    - trash_ids:
        - 839bea857ed2c0a8e084f3cbdbd65ecb # x265 (HD)
      assign_scores_to:
        - name: Anime HD (GER)
          score: 300
